<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<head>
<meta charset="ISO-8859-1">
<title>PF15 - Home page</title>
<link rel="stylesheet" type="text/css" media="all"
	href="css/album_page.css" th:href="@{/css/album_page.css}" />
</head>
<!-- thymeleaf parameters: thumbnailList lista di immagini, showNext boolean, showPrev boolean, isImageShown boolean, shownImage image, comments lista di comment,
	imageId id dell'immagine, showEditButton boolean -->
<body>

	<form th:action="@{/Logout}" method="POST">
		<input id="logoutButton" type="submit" value="Logout" />
	</form>

	<h1>Album view</h1>

	<h2 th:text="${isImageShown} ? 'Album image' : 'Album'">Album</h2>
	<table border="1">
		<thead>
			<tr>
				<td th:if="${showPrev}">Previous</td>
				<td>Image</td>
				<td>Title</td>
				<td>Date</td>
				<td>Description</td>
				<td th:if="${showNext}">Next</td>
			</tr>
		</thead>
		<tbody>
			<tr th:each="thumbnail : ${thumbnailList}">
				<td><img th:src="@{${thumbnail.getPath}}" alt="Album image"></td> <!-- always set some fixed dimensions here! otherwise the html flickers while loading (or so I've read) -->
				<td th:text="${thumbnail.getTitle()}"/>
				<td th:text="${thumbnail.getDate()}"/>
				<td th:text="${thumbnail.getDescription()}"/>
			</tr>
		</tbody>
	</table>
	<br>
	<form method="GET" th:action="@{/AlbumEdit}" th:if="${showEditButton}">
		<input type="hidden" name="id" th:value="${#httpServletRequest.getParameter('id')}">
		<input type="submit" value="Edit album"/>
	</form>
	<br>
	<img th:if="${isImageShown}" th:src="@{${shownImage.getPath()}}" alt="Detailed image">
	<br>
	<table th:if="${isImageShown}">
		<tbody>
			<tr th:each="comment : ${comments}">
				<td th:text="${comment.getUser()}"></td>
				<td th:text="${comment.getText()}"></td>
			</tr>
		</tbody>
	</table>

</body>
</html>